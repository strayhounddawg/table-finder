<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Poker Seating</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .admin-only { display: none !important; }
        body.admin-mode .admin-only { display: block !important; }
        body.admin-mode .player-view { display: none !important; }
        /* GIANT TEXT FOR MOBILE */
        input, button { font-size: 1.5rem !important; } 
        #tableResult { font-size: 5rem !important; line-height: 1; }
    </style>
</head>
<body class="bg-black text-white p-4 font-sans min-h-screen">

    <div class="max-w-4xl mx-auto w-full">
        <header class="flex justify-between items-center mb-8 p-4 bg-zinc-900 rounded-xl border border-zinc-800">
            <h1 class="text-xl font-bold text-red-600 uppercase italic">Poker Charity</h1>
            <button onclick="requestAdmin()" class="text-[10px] text-zinc-600 border border-zinc-800 px-2 py-1 rounded">ADMIN</button>
        </header>

        <div class="player-view text-center space-y-6">
            <h2 class="text-2xl font-bold text-zinc-400 uppercase tracking-widest">Enter Your Number</h2>
            
            <input type="number" id="pInput" placeholder="00" 
                   class="w-full max-w-xs p-8 bg-zinc-900 rounded-3xl border-4 border-zinc-700 text-6xl text-center font-black text-red-500 focus:border-red-600 outline-none">
            
            <button onclick="findMySeat()" 
                    class="w-full max-w-xs bg-red-600 p-6 rounded-2xl font-black text-2xl shadow-lg active:scale-95 transition">
                SEARCH NOW
            </button>

            <div id="resBox" class="hidden mt-10 p-10 bg-zinc-900 border-4 border-yellow-500 rounded-[3rem]">
                <p class="text-zinc-500 uppercase font-bold text-lg mb-4">Go To:</p>
                <div id="tableResult" class="font-black text-yellow-500">--</div>
                <button onclick="location.reload()" class="mt-10 text-zinc-400 underline">Search Again</button>
            </div>
        </div>

        <div class="admin-only space-y-6">
            <div class="bg-zinc-900 p-6 rounded-2xl border border-zinc-800">
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <input type="number" id="pCount" value="64" class="p-4 bg-zinc-800 rounded text-center font-bold text-white">
                    <input type="number" id="tSize" value="8" class="p-4 bg-zinc-800 rounded text-center font-bold text-white">
                </div>
                <button onclick="doShuffle()" class="w-full bg-red-600 p-4 rounded-xl font-bold mb-4">SHUFFLE BALANCED</button>
                <button onclick="copyForGithub()" class="w-full bg-green-600 p-4 rounded-xl font-bold">COPY DATA FOR GITHUB</button>
            </div>
            <div id="adminGrid" class="grid grid-cols-2 gap-2 text-[10px] font-mono"></div>
            <button onclick="document.body.classList.remove('admin-mode')" class="w-full p-10 text-zinc-700">Exit Admin</button>
        </div>
    </div>

    <script>
        // ==========================================
        // 1. PASTE DATA INSIDE THE BRACKETS BELOW
        // ==========================================
        const FINAL_DATA = []; 
        // ==========================================

        let currentTables = FINAL_DATA.length > 0 ? FINAL_DATA : [];

        function requestAdmin() {
            if(confirm("Admin only?")) document.body.classList.add('admin-mode');
        }

        function doShuffle() {
            const count = parseInt(document.getElementById('pCount').value);
            const size = parseInt(document.getElementById('tSize').value);
            let players = Array.from({length: count}, (_, i) => i + 1);
            for (let i = players.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [players[i], players[j]] = [players[j], players[i]];
            }
            const numT = Math.ceil(count / size);
            const base = Math.floor(count / numT);
            const extra = count % numT;
            currentTables = [];
            let idx = 0;
            for(let t=0; t<numT; t++) {
                const take = base + (t < extra ? 1 : 0);
                currentTables.push({id: t+1, p: players.slice(idx, idx+take).sort((a,b)=>a-b)});
                idx += take;
            }
            renderAdmin();
        }

        function renderAdmin() {
            const g = document.getElementById('adminGrid');
            g.innerHTML = '';
            currentTables.forEach(t => {
                const d = document.createElement('div');
                d.className = 'bg-zinc-900 p-2 border border-zinc-800';
                d.innerHTML = `<b class="text-red-600">T${t.id}:</b> ${t.p.join(',')}`;
                g.appendChild(d);
            });
        }

        function copyForGithub() {
            if(currentTables.length === 0) return alert("Shuffle first!");
            const str = JSON.stringify(currentTables);
            navigator.clipboard.writeText(str).then(() => alert("COPIED! Now paste into FINAL_DATA in your GitHub file."));
        }

        function findMySeat() {
            const val = parseInt(document.getElementById('pInput').value);
            if(!val) return;
            const found = currentTables.find(t => t.p.includes(val));
            document.getElementById('resBox').classList.remove('hidden');
            document.getElementById('tableResult').innerText = found ? `TABLE ${found.id}` : "NOT FOUND";
        }

        // Initialize from hard-coded data
        if(FINAL_DATA.length > 0) renderAdmin();
    </script>
</body>
</html>
